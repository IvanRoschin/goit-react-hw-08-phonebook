"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[661],{9661:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r,a,i,o=t(1413),s=t(5913),c=t(4808),l=t(5048),u=t(9439),d=t(2791),x=t(5861),h=t(4687),p=t.n(h),m=t(4554),b=t(7209),f=t(6151),v=t(184),j=function(n){var e=n.name,t=void 0===e?"":e,r=n.number,a=void 0===r?"":r,i=n.onSubmit,o=n.btnText,s=(0,d.useState)(t),c=(0,u.Z)(s,2),l=c[0],x=c[1],h=(0,d.useState)(a),p=(0,u.Z)(h,2),j=p[0],Z=p[1],g=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":x(r);break;case"number":Z(r);break;default:return}};return(0,v.jsxs)(m.Z,{component:"form",sx:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"360px",width:"100%",p:"10px"},autoComplete:"off",required:!0,error:"true",validate:"true",onSubmit:function(n){n.preventDefault();var e=n.target,t=e.elements.name.value.trim(),r=e.elements.number.value.trim();i({name:t,number:r}),x(""),Z(""),e.reset()},children:[(0,v.jsx)(b.Z,{label:"Name",name:"name",type:"name",size:"small",onChange:g,value:l,sx:{width:"100%"},required:!0}),(0,v.jsx)(b.Z,{inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Number",name:"number",type:"phone",size:"small",sx:{width:"100%"},onChange:g,value:j,required:!0}),(0,v.jsx)(f.Z,{sx:{width:"120px",mx:"auto"},type:"submit",variant:"outlined",size:"small",children:o})]})},Z=t(168),g=t(7691),w=g.ZP.div(r||(r=(0,Z.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n"]))),k=g.ZP.div(a||(a=(0,Z.Z)(["\n  position: relative;\n  width: auto;\n  padding: 24px;\n  background-color: white;\n"]))),y=g.ZP.button(i||(i=(0,Z.Z)(["\n display: flex;\n    align-items: center;\n    justify-content: center;\n\n    position: absolute;\n    cursor: pointer;\n    top: 10px;\n    right: 10px;\n\n    width: 20px;\n    height: 20px;\n   \n    border-radius: 50%;\n    box-shadow: 0px 6px 6px 0px var(--button-bg-cl);\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    background-color: var(--main-bg-cl);\n\n    font-size: 16px;\n    color: var(--main-text-cl);\n\n    transition: all 250ms linear;\n\n    &:focus,\n    &:hover {\n        background-color: var(--button-bg-cl);\n        border: 1px solid transparent;\n        fill: var(--main-bg-cl);\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)"]))),C=t(5985),S=t(9468),z=function(n){var e=n.closeModal,t=n.id,r=(0,s.Jx)().data,a=(0,s.wv)(),i=(0,u.Z)(a,1)[0],c=function(){return e(!1)},l=r.filter((function(n){return n.id===t})),d=function(){var n=(0,x.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i((0,o.Z)({id:t},e));case 3:C.Am.success("Yoohoo, contact is updated"),c(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsx)(w,{children:(0,v.jsxs)(k,{children:[r&&(0,v.jsx)(j,{name:l[0].name,number:l[0].number,btnText:"Save",onSubmit:d}),(0,v.jsx)(y,{type:"button",onClick:c,children:(0,v.jsx)(S.ySC,{size:32})})]})})},_=t(8402);function A(){return(0,v.jsx)(_.s5,{strokeColor:"#1976d2",strokeWidth:"3",animationDuration:"0.75",width:"14",visible:!0})}var P=t(5855),D=t(3994),T=t(3368),F=t(1286),L=function(n){var e=n.id,t=n.name,r=n.number,a=(0,d.useState)(!1),i=(0,u.Z)(a,2),o=i[0],c=i[1],l=(0,s.Nt)(),x=(0,u.Z)(l,2),h=x[0],p=x[1].isLoading;return(0,v.jsxs)(P.Z,{children:[(0,v.jsx)(D.Z,{children:t}),(0,v.jsx)(D.Z,{children:r}),(0,v.jsx)(D.Z,{children:(0,v.jsx)(f.Z,{variant:"contained",type:"button",onClick:function(){c(!0)},children:(0,v.jsx)(F.Z,{})})}),(0,v.jsx)(D.Z,{children:(0,v.jsx)(f.Z,{variant:"contained",type:"button",disabled:p,onClick:function(n){n.preventDefault(),h(e),C.Am.warning("Contact is deleted")},children:p?(0,v.jsx)(A,{}):(0,v.jsx)(T.Z,{})})}),o&&(0,v.jsx)(z,{closeModal:c,id:e})]})},N=t(890),q=t(9836),J=t(3382),M=t(9281),W=t(6890),Y=t(5527),I=function(){var n=(0,s.Jx)(),e=n.data,t=n.isFetching,r=(0,l.v9)(c.zK),a=e?e.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())})):[];return(0,v.jsxs)(v.Fragment,{children:[t&&(0,v.jsx)(A,{}),e?(0,v.jsxs)(M.Z,{component:Y.Z,children:[(0,v.jsx)(N.Z,{variant:"h6",component:"h2",align:"center",color:"#1976d2",children:"Your Contact List here"}),(0,v.jsxs)(q.Z,{sx:{minWidth:250},size:"small","aria-label":"a dense table",children:[(0,v.jsx)(W.Z,{children:(0,v.jsxs)(P.Z,{children:[(0,v.jsx)(D.Z,{children:"Name"}),(0,v.jsx)(D.Z,{children:"Phone"}),(0,v.jsx)(D.Z,{children:"Change"}),(0,v.jsx)(D.Z,{children:"Delete"})]})}),(0,v.jsx)(J.Z,{children:a.map((function(n){return(0,v.jsx)(L,(0,o.Z)({},n),n.id)}))})]})]}):(0,v.jsx)("p",{children:"Your contactlist is empty"})]})},K=function(){var n=(0,l.I0)();return(0,v.jsxs)(m.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,v.jsx)(N.Z,{variant:"h6",component:"h2",color:"#1976d2",children:"Find contacts by name"}),(0,v.jsx)(b.Z,{id:"standard-search",label:"Search field",type:"search",variant:"standard",onChange:function(e){n((0,c.Tv)(e.target.value))}})]})},V=function(){var n=(0,s.Tn)(),e=(0,u.Z)(n,1)[0],t=(0,s.Jx)().data,r=function(){var n=(0,x.Z)(p().mark((function n(r){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.find((function(n){return n.name===r.name}))){n.next=4;break}return C.Am.error("".concat(r.name," is already in contacts.")),n.abrupt("return");case 4:return n.prev=4,n.next=7,e(r);case 7:C.Am.success("".concat(r.name," is added to Phonebook.")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),C.Am.error("error");case 13:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(m.Z,{children:[(0,v.jsx)(N.Z,{variant:"h6",component:"h2",align:"center",color:"#1976d2",children:"Add Contact"}),(0,v.jsx)(j,{btnText:"Add contact",onSubmit:r})]})};function B(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(m.Z,{sx:{display:"flex",gap:20},children:[(0,v.jsx)(V,{}),(0,v.jsx)(K,{})]}),(0,v.jsx)(I,{})]})}}}]);
//# sourceMappingURL=661.4e552b6f.chunk.js.map