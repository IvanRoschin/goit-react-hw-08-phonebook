"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[504],{4504:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,o,i,a=t(1413),c=t(5913),s=t(4808),l=t(5048),u=t(9439),d=t(2791),x=t(5861),h=t(4687),m=t.n(h),p=t(4554),f=t(7209),b=t(6151),v=t(184),Z=function(n){var e=n.name,t=void 0===e?"":e,r=n.email,o=void 0===r?"":r,i=n.phone,a=void 0===i?"":i,c=n.onSubmit,s=n.btnText,l=(0,d.useState)(t),x=(0,u.Z)(l,2),h=x[0],m=x[1],Z=(0,d.useState)(a),j=(0,u.Z)(Z,2),g=j[0],w=j[1],k=(0,d.useState)(o),y=(0,u.Z)(k,2),C=y[0],_=y[1],z=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":m(r);break;case"phone":w(r);break;case"email":_(r);break;default:return}};return(0,v.jsxs)(p.Z,{component:"form",sx:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"360px",width:"100%",p:"10px"},autoComplete:"off",required:!0,error:"true",validate:"true",onSubmit:function(n){n.preventDefault();var e=n.target,t=e.elements.name.value.trim(),r=e.elements.phone.value.trim(),o=e.elements.email.value.trim();c({name:t,phone:r,email:o}),m(""),w(""),_(""),e.reset()},children:[(0,v.jsx)(f.Z,{label:"Name",name:"name",type:"name",size:"small",onChange:z,value:h,sx:{width:"100%"},required:!0}),(0,v.jsx)(f.Z,{inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Phone",name:"phone",type:"phone",size:"small",sx:{width:"100%"},onChange:z,value:g,required:!0}),(0,v.jsx)(f.Z,{label:"Email",name:"email",type:"email",size:"small",sx:{width:"100%"},onChange:z,value:C,required:!0}),(0,v.jsx)(b.Z,{sx:{width:"120px",mx:"auto"},type:"submit",variant:"outlined",size:"small",children:s})]})},j=t(168),g=t(7691),w=g.ZP.div(r||(r=(0,j.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n"]))),k=g.ZP.div(o||(o=(0,j.Z)(["\n  position: relative;\n  width: auto;\n  padding: 24px;\n  background-color: white;\n"]))),y=g.ZP.button(i||(i=(0,j.Z)(["\n display: flex;\n    align-items: center;\n    justify-content: center;\n\n    position: absolute;\n    cursor: pointer;\n    top: 10px;\n    right: 10px;\n\n    width: 20px;\n    height: 20px;\n   \n    border-radius: 50%;\n    box-shadow: 0px 6px 6px 0px var(--button-bg-cl);\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    background-color: var(--main-bg-cl);\n\n    font-size: 16px;\n    color: var(--main-text-cl);\n\n    transition: all 250ms linear;\n\n    &:focus,\n    &:hover {\n        background-color: var(--button-bg-cl);\n        border: 1px solid transparent;\n        fill: var(--main-bg-cl);\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)"]))),C=t(5985),_=t(9468),z=function(n){var e=n.closeModal,t=n.id,r=(0,c.Jx)().data,o=(0,c.wv)(),i=(0,u.Z)(o,1)[0],s=function(){return e(!1)},l=r.filter((function(n){return n._id===t})),h=function(){var n=(0,x.Z)(m().mark((function n(e){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i((0,a.Z)({id:t},e));case 3:C.Am.success("Contact is updated"),s(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),C.Am.error("Contact is not updated");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();(0,d.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,v.jsx)(w,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,v.jsxs)(k,{children:[r&&(0,v.jsx)(Z,{name:l[0].name,phone:l[0].phone,email:l[0].email,btnText:"Save",onSubmit:h}),(0,v.jsx)(y,{type:"button",onClick:s,children:(0,v.jsx)(_.ySC,{size:32})})]})})},S=t(8402);function P(){return(0,v.jsx)(S.s5,{strokeColor:"#1976d2",strokeWidth:"3",animationDuration:"0.75",width:"14",visible:!0})}var A,E,D,L=t(5855),T=t(3994),F=t(3368),q=t(1769),J=t(1939),M=t(1286),N=(g.ZP.li(A||(A=(0,j.Z)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 20px;\n  list-style: disc;\n  &:not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),g.ZP.button(E||(E=(0,j.Z)(["\n  border: none;\n  background-color: transparent;\n"])))),W=(g.ZP.button(D||(D=(0,j.Z)(["\n  padding: ","px;\n  text-align: center;\n  text-transform: uppercase;\n  outline: none;\n  border: "," ",";\n  box-shadow: 0 0 20px ",";\n  color: ",";\n  background: ",";\n  background-size: 200% auto;\n  cursor: pointer;\n  transition: ",";\n  &:hover {\n    color: ",";\n    text-decoration: none;\n    background: ",";\n    border-color: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.transparent}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.primary})),function(n){var e=n._id,t=n.name,r=n.phone,o=n.email,i=n.favorite,a=(0,d.useState)(!1),s=(0,u.Z)(a,2),l=s[0],x=s[1],h=(0,c.Nt)(),m=(0,u.Z)(h,2),p=m[0],f=m[1].isLoading,Z=(0,c.eE)(),j=(0,u.Z)(Z,1)[0];return(0,v.jsxs)(L.Z,{children:[(0,v.jsx)(T.Z,{children:(0,v.jsx)(N,{type:"button",onClick:function(n){n.preventDefault(),j({_id:e,favorite:String(!i)})},children:i?(0,v.jsx)(q.Z,{}):(0,v.jsx)(J.Z,{})})}),(0,v.jsx)(T.Z,{children:t}),(0,v.jsx)(T.Z,{children:r}),(0,v.jsx)(T.Z,{children:o}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(b.Z,{variant:"contained",type:"button",onClick:function(){x(!0)},children:(0,v.jsx)(M.Z,{})})}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(b.Z,{variant:"contained",type:"button",disabled:f,onClick:function(n){n.preventDefault(),p(e),C.Am.warning("Contact is deleted")},children:f?(0,v.jsx)(P,{}):(0,v.jsx)(F.Z,{})})}),l&&(0,v.jsx)(z,{closeModal:x,id:e})]})}),I=t(890),Y=t(9836),K=t(3382),V=t(9281),B=t(6890),G=t(5527),H=function(){var n=(0,c.Jx)(),e=n.data,t=n.isFetching;console.log(e);var r=(0,l.v9)(s.zK),o=e?e.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())})):[];return(0,v.jsxs)(v.Fragment,{children:[t&&(0,v.jsx)(P,{}),0===(null===e||void 0===e?void 0:e.length)?(0,v.jsx)(I.Z,{variant:"h6",component:"h2",align:"center",color:"#1976d2",children:"Your contactlist is empty"}):(0,v.jsxs)(V.Z,{component:G.Z,children:[(0,v.jsx)(I.Z,{variant:"h6",component:"h2",align:"center",color:"#1976d2",children:"Your Contact List here"}),(0,v.jsxs)(Y.Z,{sx:{minWidth:250},size:"small","aria-label":"a dense table",children:[(0,v.jsx)(B.Z,{children:(0,v.jsxs)(L.Z,{children:[(0,v.jsx)(T.Z,{children:"Favorite"}),(0,v.jsx)(T.Z,{children:"Name"}),(0,v.jsx)(T.Z,{children:"Phone"}),(0,v.jsx)(T.Z,{children:"Email"}),(0,v.jsx)(T.Z,{children:"Edit"}),(0,v.jsx)(T.Z,{children:"Delete"})]})}),(0,v.jsx)(K.Z,{children:o.map((function(n){return(0,v.jsx)(W,(0,a.Z)({},n),n._id)}))})]})]})]})},O=function(){var n=(0,l.I0)();return(0,v.jsxs)(p.Z,{width:"50%",component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,v.jsx)(I.Z,{variant:"h6",component:"h2",color:"#1976d2",children:"Find contact by name"}),(0,v.jsx)(f.Z,{id:"standard-search",type:"search",variant:"standard",onChange:function(e){n((0,s.Tv)(e.target.value))}})]})},Q=function(){var n=(0,c.Tn)(),e=(0,u.Z)(n,1)[0],t=(0,c.Jx)().data,r=function(){var n=(0,x.Z)(m().mark((function n(r){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(t),!t.find((function(n){return n.name===r.name}))){n.next=5;break}return C.Am.error("".concat(r.name," is already in contacts.")),n.abrupt("return");case 5:return n.prev=5,n.next=8,e(r);case 8:C.Am.success("".concat(r.name," is added to Phonebook.")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),C.Am.error("error");case 14:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(p.Z,{width:"50%",sx:{"& > :not(style)":{m:1,width:"25ch",mx:"auto"}},children:[(0,v.jsx)(I.Z,{variant:"h6",component:"h2",align:"center",color:"#1976d2",children:"Add Contact"}),(0,v.jsx)(Z,{btnText:"Add contact",onSubmit:r})]})};function R(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(p.Z,{sx:{display:"flex",gap:20,flexDirection:{xs:"column",sm:"row"},alignItems:"center"},children:[(0,v.jsx)(Q,{}),(0,v.jsx)(O,{})]}),(0,v.jsx)(H,{})]})}}}]);
//# sourceMappingURL=504.20f92737.chunk.js.map